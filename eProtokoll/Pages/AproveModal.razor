@inject IApplicationService appsService
@inject IToastService toastService
@inject NavigationManager _navmanager

<EditForm Model="userApp">
    <div class="simple-form">
        <div class="form-group">
            <label for="movie-name">Aplikimi: @userApp.applicationDto.appName </label>
            <InputTextArea @bind-Value="userApp.comment" class="form-control"></InputTextArea>
        </div>
        <button @onclick="Save" class="btn btn-primary">Dergo</button>

    </div>
</EditForm>

@code {

    [Parameter] public UserApplicationsRequestDto userApp { get; set; }
    [CascadingParameter] public IModalService Modal { get; set; }
    protected override async Task OnInitializedAsync()
    {
        userApp.comment = "";

    }

    async void Save()
    {
        var parameters = new ModalParameters();
        var result = await appsService.PassInNextStepAsync(userApp);
        if (result.success)
        {
            toastService.ShowSuccess("Aplikimi kaloi me sukses");
            _navmanager.NavigateTo("/dashboard");

        }
        else
        {
            toastService.ShowError("Ka ndodhhur nje gabim");

        }

    }
}
